{% extends 'base.html' %}

{% block title %}
   ثبت کارمند
{% endblock title %}

{% block page_title %}
ثبت کارمند
{% endblock page_title %}

{% block breadcrumb %}
<ol class="breadcrumb m-0">
    <li class="breadcrumb-item"><a href="/">صفحه اصلی</a></li>
    <li class="breadcrumb-item"><a href="{% url 'employee-list' %}">لیست کارمندان</a></li>
    <li class="breadcrumb-item active">ثبت کارمند جدید</li>
</ol>
{% endblock breadcrumb %}
{% block content %}

<style>
    #salary_month{
        display: none;
    }
</style>

    <div class="row">
        <div class="col-lg-10 m-auto">
            <div class="card">
                <div class="card-body">
                    <form action="" method="POST">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-lg-3">
                                <label for="" class="font-size-18">نوع کارمند</label>
                                <input type="text" class="form-control form-control-lg" name="emp_type" placeholder="نجار">
                            </div>
                            <div class="col-lg-3">
                                <label for="" class="font-size-18">نام</label>
                                <input type="text" class="form-control form-control-lg" name="name" placeholder="نام کارمند">
                            </div>
                            <div class="col-lg-3">
                                <label for="" class="font-size-18">تخلص کارمند</label>
                                <input type="text" class="form-control form-control-lg" name="last_name" placeholder="تخلص کارمند">
                            </div>
                            <div class="col-lg-3">
                                <label for="" class="font-size-18">شماره تماس</label>
                                <input type="text" class="form-control form-control-lg" name="phone_number" placeholder="شماره تماس">
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-lg-3">
                                <label for="" class="font-size-18">نوع کارکرد</label>
                                <select name="emp_salary_type" class="form-control form-control-lg" id="emp_salary_type">
                                    <option value="">-----</option>
                                    <option value="month">ماهوار</option>
                                    <option value="kontorat">کونترات</option>
                                </select>
                            </div>
                            <div class="col-lg-3" id="salary_month">
                                <label for="" class="font-size-18" id="salary_label"></label>
                                <input type="number" placeholder="10000" step="0.05", name="salary" class="form-control form-control-lg">
                            </div>
                            <div class="col-lg-3" id="">
                                <label for="" class="font-size-18">آدرس</label>
                                <input type="text" placeholder="کابل، ناحیه سیزده", name="address" class="form-control form-control-lg">
                            </div>
                        </div>
                        <button class="btn btn-dark btn-lg mt-2">ذخیره کردن</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <script
    src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
    crossorigin="anonymous"></script>
    <script>
        const salary_label = document.getElementById('salary_label')
        $(document).ready(function(){
            $("#emp_salary_type").change(function() {
                var val = $(this).val()
                if(val == "month"){
                    $("#salary_month").show()
                    salary_label.innerHTML = "معاش ماهوار"
                }
                else{
                    $("#salary_month").hide()
                }
            })
        })
    </script>

    

{% endblock content %}